---
import { universities } from "@/data/University";
import { languages } from "@/i18n/ui";
import { useTranslations } from "@/i18n/utils";
import { Image } from "astro:assets";

const lang = Astro.params.lang as keyof typeof languages;
const t = useTranslations(lang);
---

<section class="mx-auto relative">
  <div class="relative mx-auto">
    <div class="mx-auto p-0 mb-12 relative">
      <header class="flex flex-col items-center text-center text-wrap my-11">
        <h1
          class="text-4xl md:text-4xl text-gradient font-bold mb-8 leading-snug"
          id="trusted-by"
        >
          {t("home.partnership.title")}
        </h1>

        <section
          class="container grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"
          aria-labelledby="trusted-by"
        >
          {
            universities.map((uni) => (
              <article class="group relative flex flex-col justify-center items-center border rounded-lg md:h-[220px] h-fit overflow-clip bg-white shadow-sm">
                <Image
                  src={uni.image}
                  alt={uni.alt}
                  class="md:w-full w-2/3 h-full object-contain p-6 transition-all duration-300 ease-in-out group-hover:opacity-40 group-hover:scale-100"
                  loading="lazy"
                  width={500}
                  height={420}
                />
                <div
                  class="hidden md:flex absolute inset-0 flex-col justify-start bg-gradient-to-b from-transparent to-white bg-opacity-100 p-4
          opacity-0 translate-y-full group-hover:opacity-85 group-hover:translate-y-0
          transition-all duration-300 ease-in-out
          md:opacity-0 md:translate-y-full
          md:group-hover:opacity-85 md:group-hover:translate-y-0
          max-h-[90%] overflow-y-auto"
                >
                  <h3 class="font-bold text-center text-primary text-md mb-2">
                    {t(uni.hoverTitleKey)}
                  </h3>
                  <ul class="text-left text-base font-semibold text-primary pl-4">
                    {uni.hoverItemKeys.map((key) => (
                      <li>{t(key)}</li>
                    ))}
                  </ul>
                </div>

                <div class="md:hidden w-full bg-white bg-opacity-90 p-4">
                  <h3 class="font-bold text-center text-primary text-md mb-2">
                    {t(uni.hoverTitleKey)}
                  </h3>
                  <ul class=" text-left text-base font-semibold text-primary pl-4">
                    {uni.hoverItemKeys.map((key) => (
                      <li>{t(key)}</li>
                    ))}
                  </ul>
                </div>
              </article>
            ))
          }
        </section>
      </header>
    </div>
  </div>
</section>
