---
import { universities } from "@/data/university";
import { languages } from "@/i18n/ui";
import { useTranslations } from "@/i18n/utils";
import { Image } from "astro:assets";

const lang = Astro.params.lang as keyof typeof languages;
const t = useTranslations(lang);
---

<section class="mx-auto relative">
  <div class="relative mx-auto">
    <div class="mx-auto p-0 mb-12 relative">
      <div class="flex flex-col items-center text-center text-wrap my-11">
        <h1 class="text-4xl md:text-4xl text-gradient font-bold mb-8">
          {t("home.partnership.title")}
        </h1>

        <ul
          class="container grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"
          aria-labelledby="trusted-by"
        >
          {
            universities.map((uni) => (
              <li class="group relative flex justify-center items-center border rounded-lg h-[220px] overflow-clip bg-white shadow-sm">
                <Image
                  src={uni.image}
                  alt={uni.alt}
                  class="w-full h-full object-contain p-6 transition-all duration-300 ease-in-out group-hover:opacity-40 group-hover:scale-100"
                  loading="lazy"
                  width={500}
                  height={420}
                />
                <div
                  class="absolute inset-0 flex flex-col justify-start bg-white bg-opacity-100 p-4
                    opacity-0 translate-y-full group-hover:opacity-85 group-hover:translate-y-0
                    transition-all duration-300 ease-in-out
                    md:opacity-0 md:translate-y-full
                    sm:opacity-85 sm:translate-y-0
                    overflow-y-auto max-h-[90%]"
                >
                  <h3 class="font-bold text-center text-primary text-md mb-2">
                    {t(uni.hoverTitleKey)}
                  </h3>
                  <ul class="text-left text-base font-semibold text-primary list-none">
                    {uni.hoverItemKeys.map((key) => (
                      <li>{t(key)}</li>
                    ))}
                  </ul>
                </div>
              </li>
            ))
          }
        </ul>
      </div>
    </div>
  </div>
</section>
