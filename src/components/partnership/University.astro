---
import { universities } from "@/data/University";
import { languages } from "@/i18n/ui";
import { useTranslations } from "@/i18n/utils";
import { Image } from "astro:assets";

const lang = Astro.params.lang as keyof typeof languages;
const t = useTranslations(lang);
---

<section class="mx-auto relative">
  <div class="relative mx-auto">
    <div class="mx-auto p-0 mb-12 relative">
      <header class="flex flex-col items-center text-center text-wrap my-12">
        <h1
          class="text-4xl md:text-4xl text-gradient font-bold"
          id="trusted-by"
        >
          {t("home.partnership.title")}
        </h1>
        <p class="text-base text-muted-foreground my-4">
          {t("home.partnership.description")}
        </p>
        <section
          class="container grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"
          aria-labelledby="trusted-by"
        >
          {
            universities.map((uni) => (
              <article class="group relative flex flex-col justify-center items-center border rounded-lg lg:h-[220px] h-full overflow-clip bg-white shadow-sm">
                <Image
                  src={uni.image}
                  alt={uni.alt}
                  class="w-2/3 md:w-full lg:w-full h-full object-contain p-6 transition-all duration-300 ease-in-out lg:group-hover:opacity-40 lg:group-hover:scale-100"
                  loading="lazy"
                  width={500}
                  height={420}
                />
                <div
                  class="hidden lg:flex absolute inset-0 flex-col justify-start bg-gradient-to-b from-transparent to-white bg-opacity-100 p-4
                    opacity-0 translate-y-full lg:group-hover:opacity-85 lg:group-hover:translate-y-0
                    transition-all duration-300 ease-in-out
                    lg:opacity-0 lg:translate-y-full
                   
                    max-h-[90%] overflow-y-auto"
                >
                  <h3 class="font-bold text-center text-primary text-md mb-2">
                    {t(uni.hoverTitleKey)}
                  </h3>
                  <ul class="text-left text-base font-semibold text-primary pl-4">
                    {uni.hoverItemKeys.map((key) => (
                      <li>{t(key)}</li>
                    ))}
                  </ul>
                </div>

                <div class="lg:hidden w-full bg-white bg-opacity-90 p-4">
                  <h3 class="font-bold text-center text-primary text-md mb-2">
                    {t(uni.hoverTitleKey)}
                  </h3>
                  <ul class="text-left text-base font-semibold text-primary pl-4">
                    {uni.hoverItemKeys.map((key) => (
                      <li>{t(key)}</li>
                    ))}
                  </ul>
                </div>
              </article>
            ))
          }
        </section>
      </header>
    </div>
  </div>
</section>
