---
import { Badge } from "@/components/ui/badge";
import { Button } from "@/components/ui/button";
import { Card } from "@/components/ui/card";

import AccordionQA from "./AccordionQA";
import background_style from "@/assets/about/q-and-a/background-style.svg";
import FAQ_image from "@/assets/about/q-and-a/FAQ-Image.png";
import { useTranslations } from "@/i18n/utils";
import { Image } from "astro:assets";
import { BadgeAlert, SquareUser } from "lucide-react";

type Props = {
  lang: string;
};

const { lang } = Astro.props;
const t = useTranslations(lang);
---

<div class="container my-20">
  <!-- title section -->
  <div class="flex items-center justify-center">
    <div class="w-full max-w-2xl lg:max-w-3xl flex flex-col items-center gap-3">
      <Badge className="bg-secondary/30 text-secondary rounded-full">
        <BadgeAlert />
        QA of DSDP
      </Badge>

      <h1
        class="text-3xl md:text-5xl font-bold text-gradient leading-snug text-center"
      >
        {t("qa.title.1")}
      </h1>

      <p
        class="text-center text-muted-foreground text-sm md:text-base max-w-2xl px-4"
      >
        {t("qa.title.2")}
      </p>
    </div>
  </div>

  <!-- FAQ section -->
  <div class="grid grid-cols-1 lg:grid-cols-2 mt-16 gap-6 max-w-5xl mx-auto">
    <div class="order-2 lg:order-1">
      <h2 class="text-2xl text-primary lg:text-3xl mb-8">
        {t("qa.title.3")}
      </h2>

      <!-- Embed React AccordionQA component -->
      <AccordionQA lang={lang} client:load />
    </div>

    <div class="order-1 lg:order-2 flex items-center justify-center">
      <Image
        src={FAQ_image}
        alt="FAQ image"
        class="w-full max-w-md lg:max-w-lg h-auto object-cover"
      />
    </div>
  </div>

  <!-- contact section -->
  <div class="gap-6 my-12 max-w-5xl mx-auto">
    <Card
      className="relative bg-primary text-center text-white overflow-hidden px-8 py-20 md:py-18"
    >
      <Image
        src={background_style}
        alt="background style"
        aria-hidden="true"
        class="absolute inset-0 object-cover opacity-50"
      />
      <div class="relative z-10 max-w-2xl mx-auto">
        <h3
          class="text-2xl md:text-3xl lg:text-4xl font-bold mb-6 leading-relaxed text-center"
        >
          {t("qa.title.4")}
        </h3>
        <Button variant="secondary" className="text-white rounded-full">
          <SquareUser />
          {t("qa.btn.contact")}
        </Button>
      </div>
    </Card>
  </div>
</div>
