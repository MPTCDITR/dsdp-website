---
import "@/styles/global.css";

import { getLangFromUrl, useTranslations } from "@/lib/i18n";
import { getLocalizedRoutes, navigation } from "@/lib/route";

import Header from "@/components/layout/Header";
import { AboutUs as AboutUsComponent } from "@/components/pages/about/about-us-content";

import background_style from "@/assets/about/about-us/backgorund-style.svg";
import background_svg_blob from "@/assets/about/about-us/background-svg-blob.svg";
import { languages, ui } from "@/i18n/ui";
import Layout from "@/layouts/layout.astro";

export async function getStaticPaths() {
  return Object.keys(languages).map((lang) => ({
    params: { lang },
  }));
}

const lang = getLangFromUrl(Astro.url);
const translations = ui[lang];

const locale = lang;
const navigationItems = getLocalizedRoutes(navigation, locale);
const currentPath = Astro.url.pathname;
---

<Layout title="អំពីឌីអេសឌីធី - About DSDP">
  <!-- Background decorations -->
  <section class="relative w-screen left-1/2 -translate-x-1/2 overflow-hidden">
    <div class="absolute inset-0 -z-10 pointer-events-none">
      <img
        src={background_style.src}
        alt="top background"
        class="absolute top-[5%] right-[60%] w-full max-w-full h-auto"
      />
      <img
        src={background_svg_blob.src}
        alt="bottom background"
        class="absolute bottom-[10%] left-[50%] w-full max-w-full h-auto rotate-[270deg] -scale-x-[1]"
      />
    </div>

    <AboutUsComponent translations={translations} client:load />
  </section>
</Layout>
